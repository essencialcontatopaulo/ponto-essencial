<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√Årea do Gestor - Ponto Eletr√¥nico</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .gestor-header {
            background: linear-gradient(135deg, #2c3e50 0%, #4a6491 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .user-details h2 {
            margin: 0;
            color: white;
        }
        
        .user-details p {
            margin: 5px 0 0;
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: #f8f9ff;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .data-table {
            width: 100%;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin: 20px 0;
        }
        
        .data-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            border-bottom: 2px solid #e9ecef;
        }
        
        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        .btn-action {
            padding: 8px 15px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            margin: 0 5px;
            transition: all 0.3s;
        }
        
        .btn-edit {
            background: #17a2b8;
            color: white;
        }
        
        .btn-edit:hover {
            background: #138496;
        }
        
        .btn-delete {
            background: #dc3545;
            color: white;
        }
        
        .btn-delete:hover {
            background: #c82333;
        }
        
        .btn-export {
            background: #28a745;
            color: white;
        }
        
        .btn-export:hover {
            background: #218838;
        }
        
        .btn-cadastrar {
            background: #6f42c1;
            color: white;
        }
        
        .btn-cadastrar:hover {
            background: #5a32a3;
        }
        
        .search-box {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            min-width: 200px;
        }
        
        .quick-actions {
            display: flex;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .action-card {
            flex: 1;
            min-width: 200px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.1);
        }
        
        .action-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .action-card h4 {
            margin: 10px 0;
            color: #2c3e50;
        }
        
        .action-card p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
        }
        
        .status-presente {
            background: #d4edda;
            color: #155724;
        }
        
        .status-ausente {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-atrasado {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-ferias {
            background: #cce5ff;
            color: #004085;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                width: 100%;
                text-align: center;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .filter-select, .search-input {
                width: 100%;
            }
            
            .quick-actions {
                flex-direction: column;
            }
            
            .action-card {
                width: 100%;
            }
            
            .btn-action {
                margin: 2px;
                padding: 6px 10px;
                font-size: 0.8rem;
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="gestor-header">
            <div class="user-info">
                <div class="user-avatar">üëî</div>
                <div class="user-details">
                    <h2 id="gestorNome">Gestor do Sistema</h2>
                    <p id="gestorEmail">admin@empresa.com</p>
                    <p id="gestorCargo">Gerente Geral</p>
                </div>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button id="sairBtn" class="btn-secondary" style="background: rgba(255,255,255,0.2); color: white;">
                    üö™ Sair
                </button>
                <button id="homeBtn" class="btn-secondary" style="background: rgba(255,255,255,0.2); color: white;">
                    üè† P√°gina Inicial
                </button>
            </div>
        </header>

        <section class="quick-actions">
            <div class="action-card" id="cardCadastrar">
                <div class="action-icon">üë•</div>
                <h4>Cadastrar Usu√°rio</h4>
                <p>Adicionar novo funcion√°rio ou gestor</p>
            </div>
            
            <div class="action-card" id="cardRelatorios">
                <div class="action-icon">üìä</div>
                <h4>Relat√≥rios</h4>
                <p>Gerar relat√≥rios de horas e produtividade</p>
            </div>
            
            <div class="action-card" id="cardAjustes">
                <div class="action-icon">‚öôÔ∏è</div>
                <h4>Ajustes</h4>
                <p>Configurar hor√°rios e notifica√ß√µes</p>
            </div>
            
            <div class="action-card" id="cardExportar">
                <div class="action-icon">üì•</div>
                <h4>Exportar Dados</h4>
                <p>Exportar para Excel ou PDF</p>
            </div>
        </section>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Funcion√°rios Ativos</div>
                <div class="stat-value" id="totalFuncionarios">5</div>
                <div class="stat-label">Presentes hoje: <span id="presentesHoje">3</span></div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Horas Trabalhadas</div>
                <div class="stat-value" id="horasTotais">168h</div>
                <div class="stat-label">M√©dia por funcion√°rio: 8.4h</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Atrasos Este M√™s</div>
                <div class="stat-value" id="totalAtrasos">3</div>
                <div class="stat-label">-15% vs m√™s anterior</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Produtividade</div>
                <div class="stat-value" id="produtividade">94%</div>
                <div class="stat-label">Meta: 90%</div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="funcionarios">üë• Funcion√°rios</div>
            <div class="tab" data-tab="pontos">‚è∞ Registros de Ponto</div>
            <div class="tab" data-tab="relatorios">üìä Relat√≥rios</div>
            <div class="tab" data-tab="config">‚öôÔ∏è Configura√ß√µes</div>
        </div>

        <div class="tab-content active" id="tab-funcionarios">
            <div class="search-box">
                <input type="text" class="search-input" id="searchFuncionarios" placeholder="Buscar funcion√°rio por nome ou email...">
                <select class="filter-select" id="filterCargo">
                    <option value="">Todos os cargos</option>
                    <option value="Desenvolvedor">Desenvolvedor</option>
                    <option value="Designer">Designer</option>
                    <option value="Analista de RH">Analista de RH</option>
                    <option value="Assistente Administrativo">Assistente Administrativo</option>
                    <option value="Gerente">Gerente</option>
                </select>
                <select class="filter-select" id="filterStatus">
                    <option value="">Todos os status</option>
                    <option value="ativo">Ativo</option>
                    <option value="inativo">Inativo</option>
                </select>
                <button class="btn-action btn-cadastrar" id="addFuncionarioBtn">
                    üë• Novo Funcion√°rio
                </button>
            </div>
            
            <table class="data-table" id="tabelaFuncionarios">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Cargo</th>
                        <th>E-mail</th>
                        <th>Status</th>
                        <th>√öltimo Ponto</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: #888;">
                            Carregando funcion√°rios...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="tab-content" id="tab-pontos">
            <div class="search-box">
                <input type="date" class="search-input" id="filterData" value="">
                <select class="filter-select" id="filterFuncionarioPonto">
                    <option value="">Todos os funcion√°rios</option>
                    <option value="joao.silva@empresa.com">Jo√£o Silva</option>
                    <option value="maria.santos@empresa.com">Maria Santos</option>
                    <option value="carlos.oliveira@empresa.com">Carlos Oliveira</option>
                    <option value="ana.costa@empresa.com">Ana Costa</option>
                </select>
                <select class="filter-select" id="filterStatusPonto">
                    <option value="">Todos os status</option>
                    <option value="presente">Presente</option>
                    <option value="ausente">Ausente</option>
                    <option value="atrasado">Atrasado</option>
                    <option value="ferias">F√©rias</option>
                </select>
                <button class="btn-action btn-export" id="exportPontosBtn">
                    üì• Exportar Excel
                </button>
                <button class="btn-action" style="background: #6610f2; color: white;" id="imprimirRelatorioBtn">
                    üñ®Ô∏è Imprimir
                </button>
            </div>
            
            <table class="data-table" id="tabelaPontosGestor">
                <thead>
                    <tr>
                        <th>Funcion√°rio</th>
                        <th>Data</th>
                        <th>Entrada</th>
                        <th>Sa√≠da</th>
                        <th>Horas</th>
                        <th>Status</th>
                        <th>M√©todo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px; color: #888;">
                            Carregando registros de ponto...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="tab-content" id="tab-relatorios">
            <div style="padding: 30px;">
                <h3 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">üìä Relat√≥rios Gerenciais</h3>
                <p style="text-align: center; color: #666; margin-bottom: 40px;">Gere relat√≥rios detalhados para an√°lise gerencial e tomada de decis√£o</p>
                
                <div class="quick-actions">
                    <div class="action-card" id="relatorioMensal">
                        <div class="action-icon">üìà</div>
                        <h4>Relat√≥rio Mensal</h4>
                        <p>An√°lise completa do m√™s atual</p>
                        <small>Horas trabalhadas, atrasos, produtividade</small>
                    </div>
                    
                    <div class="action-card" id="relatorioFuncionario">
                        <div class="action-icon">üë§</div>
                        <h4>Por Funcion√°rio</h4>
                        <p>Desempenho individual detalhado</p>
                        <small>Hist√≥rico completo por colaborador</small>
                    </div>
                    
                    <div class="action-card" id="relatorioHoras">
                        <div class="action-icon">‚è∞</div>
                        <h4>Controle de Horas</h4>
                        <p>Horas extras e banco de horas</p>
                        <small>Saldo de horas por funcion√°rio</small>
                    </div>
                    
                    <div class="action-card" id="relatorioAbsenteismo">
                        <div class="action-icon">üìã</div>
                        <h4>Absente√≠smo</h4>
                        <p>Faltas e justificativas</p>
                        <small>An√°lise de aus√™ncias</small>
                    </div>
                </div>
                
                <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; margin-top: 40px;">
                    <h4 style="color: #2c3e50; margin-bottom: 15px;">üìà Pr√≥ximos Recursos:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 8px;">
                            <strong>‚Ä¢ Gr√°ficos Interativos</strong>
                            <p style="margin: 8px 0 0; color: #666; font-size: 0.9rem;">Visualiza√ß√£o de dados em gr√°ficos</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px;">
                            <strong>‚Ä¢ Comparativo Peri√≥dico</strong>
                            <p style="margin: 8px 0 0; color: #666; font-size: 0.9rem;">Compara√ß√£o entre meses/trimestres</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px;">
                            <strong>‚Ä¢ Exporta√ß√£o Avan√ßada</strong>
                            <p style="margin: 8px 0 0; color: #666; font-size: 0.9rem;">PDF personalizado e Excel</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px;">
                            <strong>‚Ä¢ Alertas Autom√°ticos</strong>
                            <p style="margin: 8px 0 0; color: #666; font-size: 0.9rem;">Notifica√ß√µes por email</p>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn-primary" id="gerarRelatorioCompleto" style="padding: 15px 30px; font-size: 1.1rem;">
                        üöÄ Gerar Relat√≥rio Completo
                    </button>
                </div>
            </div>
        </div>

        <div class="tab-content" id="tab-config">
            <div style="max-width: 800px; margin: 0 auto;">
                <h3 style="margin-bottom: 30px; color: #2c3e50;">‚öôÔ∏è Configura√ß√µes do Sistema</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                    <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <h4 style="margin-bottom: 20px; color: #495057;">üïê Hor√°rio de Trabalho</h4>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Entrada padr√£o</label>
                            <input type="time" class="form-control" id="entradaPadrao" value="08:00" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Sa√≠da padr√£o</label>
                            <input type="time" class="form-control" id="saidaPadrao" value="17:00" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Toler√¢ncia de atraso (minutos)</label>
                            <input type="number" class="form-control" id="toleranciaAtraso" value="10" min="0" max="60" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        </div>
                    </div>
                    
                    <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05);">
                        <h4 style="margin-bottom: 20px; color: #495057;">üîî Notifica√ß√µes</h4>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                <input type="checkbox" id="notificarAtrasos" checked style="width: 18px; height: 18px;">
                                <span>Enviar alertas de atraso</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                <input type="checkbox" id="relatorioSemanal" checked style="width: 18px; height: 18px;">
                                <span>Relat√≥rio semanal autom√°tico</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                <input type="checkbox" id="notificarAusencias" checked style="width: 18px; height: 18px;">
                                <span>Notificar aus√™ncias n√£o justificadas</span>
                            </label>
                            
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="lembretePonto" checked style="width: 18px; height: 18px;">
                                <span>Lembrete para registrar ponto</span>
                            </label>
                        </div>
                        
                        <div style="margin-top: 25px;">
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Email para notifica√ß√µes</label>
                            <input type="email" class="form-control" id="emailNotificacoes" value="gestor@empresa.com" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px;">
                        </div>
                    </div>
                </div>
                
                <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-top: 25px;">
                    <h4 style="margin-bottom: 20px; color: #495057;">üõ°Ô∏è Seguran√ßa</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Tempo de sess√£o (minutos)</label>
                            <select id="timeoutSessao" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; background: white;">
                                <option value="30">30 minutos</option>
                                <option value="60" selected>1 hora</option>
                                <option value="120">2 horas</option>
                                <option value="240">4 horas</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #555; font-weight: 500;">Tentativas de login</label>
                            <select id="tentativasLogin" style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; background: white;">
                                <option value="3">3 tentativas</option>
                                <option value="5" selected>5 tentativas</option>
                                <option value="10">10 tentativas</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn-primary" id="salvarConfigBtn" style="padding: 15px 40px; font-size: 1.1rem;">
                        üíæ Salvar Configura√ß√µes
                    </button>
                    <button class="btn-secondary" id="resetarConfigBtn" style="padding: 15px 30px; font-size: 1.1rem; margin-left: 15px;">
                        üîÑ Restaurar Padr√µes
                    </button>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #eaeaea;">
            <a href="index.html" style="color: #667eea; text-decoration: none; font-weight: 500;">‚Üê Voltar para p√°gina inicial</a>
            <span style="margin: 0 15px; color: #ccc;">‚Ä¢</span>
            <a href="cadastro-usuario.html" style="color: #667eea; text-decoration: none; font-weight: 500;">üë• Cadastrar Usu√°rios</a>
            <span style="margin: 0 15px; color: #ccc;">‚Ä¢</span>
            <a href="funcionario.html" style="color: #667eea; text-decoration: none; font-weight: 500;">‚è∞ √Årea do Funcion√°rio</a>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/firebase-config.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üëî √Årea do gestor carregada!");
            
            // Verificar se √© gestor
            const usuario = window.auth?.verificarLogin();
            if (!usuario || usuario.tipo !== 'gestor') {
                alert('‚ö†Ô∏è Acesso restrito a gestores!\n\nUse:\nEmail: admin@empresa.com\nSenha: admin123');
                setTimeout(() => window.location.href = 'login.html', 2000);
                return;
            }
            
            // Atualizar informa√ß√µes do gestor
            document.getElementById('gestorNome').textContent = usuario.nome;
            document.getElementById('gestorEmail').textContent = usuario.email;
            document.getElementById('gestorCargo').textContent = usuario.cargo || 'Gestor';
            
            // Sistema de abas
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remover classe active de todas as abas
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));
                    
                    // Adicionar classe active √† aba clicada
                    this.classList.add('active');
                    document.getElementById(`tab-${tabId}`).classList.add('active');
                });
            });
            
            // Bot√µes de a√ß√£o r√°pida
            document.getElementById('cardCadastrar').addEventListener('click', function() {
                window.location.href = 'cadastro-usuario.html';
            });
            
            document.getElementById('cardRelatorios').addEventListener('click', function() {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(tc => tc.classList.remove('active'));
                
                document.querySelector('[data-tab="relatorios"]').classList.add('active');
                document.getElementById('tab-relatorios').classList.add('active');
            });
            
            document.getElementById('cardAjustes').addEventListener('click', function() {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(tc => tc.classList.remove('active'));
                
                document.querySelector('[data-tab="config"]').classList.add('active');
                document.getElementById('tab-config').classList.add('active');
            });
            
            document.getElementById('cardExportar').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üì• Exporta√ß√£o em desenvolvimento...', 'info');
            });
            
            // Bot√£o novo funcion√°rio
            document.getElementById('addFuncionarioBtn').addEventListener('click', function() {
                window.location.href = 'cadastro-usuario.html';
            });
            
            // Bot√µes de relat√≥rios
            document.getElementById('relatorioMensal').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üìà Gerando relat√≥rio mensal...', 'info');
            });
            
            document.getElementById('relatorioFuncionario').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üë§ Gerando relat√≥rio por funcion√°rio...', 'info');
            });
            
            document.getElementById('relatorioHoras').addEventListener('click', function() {
                window.utils?.mostrarMensagem('‚è∞ Gerando relat√≥rio de horas...', 'info');
            });
            
            document.getElementById('relatorioAbsenteismo').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üìã Gerando relat√≥rio de absente√≠smo...', 'info');
            });
            
            document.getElementById('gerarRelatorioCompleto').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üöÄ Gerando relat√≥rio completo...', 'info');
            });
            
            // Bot√£o exportar
            document.getElementById('exportPontosBtn').addEventListener('click', function() {
                window.utils?.mostrarMensagem('üì• Exportando dados para Excel...', 'info');
            });
            
            // Bot√£o imprimir
            document.getElementById('imprimirRelatorioBtn').addEventListener('click', function() {
                window.print();
            });
            
            // Bot√£o salvar configura√ß√µes
            document.getElementById('salvarConfigBtn').addEventListener('click', function() {
                window.utils?.mostrarMensagem('‚úÖ Configura√ß√µes salvas com sucesso!', 'success');
            });
            
            // Bot√£o resetar configura√ß√µes
            document.getElementById('resetarConfigBtn').addEventListener('click', function() {
                if (confirm('Deseja restaurar todas as configura√ß√µes para os valores padr√µes?')) {
                    document.getElementById('entradaPadrao').value = '08:00';
                    document.getElementById('saidaPadrao').value = '17:00';
                    document.getElementById('toleranciaAtraso').value = '10';
                    window.utils?.mostrarMensagem('üîÑ Configura√ß√µes restauradas!', 'success');
                }
            });
            
            // Bot√£o sair
            document.getElementById('sairBtn').addEventListener('click', function() {
                if (confirm('Deseja realmente sair do sistema?')) {
                    window.auth?.logout();
                }
            });
            
            // Bot√£o p√°gina inicial
            document.getElementById('homeBtn').addEventListener('click', function() {
                window.location.href = 'index.html';
            });
            
            // Carregar dados simulados
            carregarDadosSimulados();
            
            // Configurar data atual como padr√£o
            const hoje = new Date().toISOString().split('T')[0];
            document.getElementById('filterData').value = hoje;
        });
        
        function carregarDadosSimulados() {
            // Funcion√°rios
            const funcionariosTbody = document.querySelector('#tabelaFuncionarios tbody');
            if (funcionariosTbody) {
                funcionariosTbody.innerHTML = '';
                
                const funcionarios = [
                    { nome: 'Jo√£o Silva', cargo: 'Desenvolvedor', email: 'joao.silva@empresa.com', status: 'presente', ultimoPonto: '08:05' },
                    { nome: 'Maria Santos', cargo: 'Designer', email: 'maria.santos@empresa.com', status: 'presente', ultimoPonto: '08:15' },
                    { nome: 'Carlos Oliveira', cargo: 'Analista de RH', email: 'carlos.oliveira@empresa.com', status: 'ausente', ultimoPonto: '--:--' },
                    { nome: 'Ana Costa', cargo: 'Assistente Administrativo', email: 'ana.costa@empresa.com', status: 'atrasado', ultimoPonto: '08:45' },
                    { nome: 'Administrador Sistema', cargo: 'Gerente Geral', email: 'admin@empresa.com', status: 'presente', ultimoPonto: '07:55' }
                ];
                
                funcionarios.forEach(func => {
                    const row = funcionariosTbody.insertRow();
                    
                    let statusHTML = '';
                    if (func.status === 'presente') {
                        statusHTML = '<span class="status-badge status-presente">‚úÖ Presente</span>';
                    } else if (func.status === 'ausente') {
                        statusHTML = '<span class="status-badge status-ausente">‚ùå Ausente</span>';
                    } else {
                        statusHTML = '<span class="status-badge status-atrasado">‚ö†Ô∏è Atrasado</span>';
                    }
                    
                    row.innerHTML = `
                        <td><strong>${func.nome}</strong></td>
                        <td>${func.cargo}</td>
                        <td>${func.email}</td>
                        <td>${statusHTML}</td>
                        <td>${func.ultimoPonto}</td>
                        <td>
                            <button class="btn-action btn-edit" onclick="editarFuncionario('${func.email}')">Editar</button>
                            <button class="btn-action btn-delete" onclick="excluirFuncionario('${func.email}')">Excluir</button>
                        </td>
                    `;
                });
            }
            
            // Pontos
            const pontosTbody = document.querySelector('#tabelaPontosGestor tbody');
            if (pontosTbody) {
                pontosTbody.innerHTML = '';
                
                const pontos = [
                    { funcionario: 'Jo√£o Silva', data: '20/01/2026', entrada: '08:05', saida: '17:00', horas: '8:55', status: 'regular', metodo: 'Web' },
                    { funcionario: 'Maria Santos', data: '20/01/2026', entrada: '08:15', saida: '17:10', horas: '8:55', status: 'regular', metodo: 'Web' },
                    { funcionario: 'Ana Costa', data: '20/01/2026', entrada: '08:45', saida: '17:30', horas: '8:45', status: 'atrasado', metodo: 'Facial' },
                    { funcionario: 'Administrador Sistema', data: '20/01/2026', entrada: '07:55', saida: '18:00', horas: '10:05', status: 'regular', metodo: 'Web' }
                ];
                
                pontos.forEach(ponto => {
                    const row = pontosTbody.insertRow();
                    
                    let statusHTML = '';
                    if (ponto.status === 'regular') {
                        statusHTML = '<span class="status-badge status-presente">‚úÖ Regular</span>';
                    } else {
                        statusHTML = '<span class="status-badge status-atrasado">‚ö†Ô∏è Atrasado</span>';
                    }
                    
                    row.innerHTML = `
                        <td>${ponto.funcionario}</td>
                        <td>${ponto.data}</td>
                        <td>${ponto.entrada}</td>
                        <td>${ponto.saida}</td>
                        <td><strong>${ponto.horas}</strong></td>
                        <td>${statusHTML}</td>
                        <td>${ponto.metodo}</td>
                    `;
                });
            }
        }
        
        // Fun√ß√µes globais para os bot√µes
        window.editarFuncionario = function(email) {
            window.utils?.mostrarMensagem(`‚úèÔ∏è Editando funcion√°rio: ${email}`, 'info');
        };
        
        window.excluirFuncionario = function(email) {
            if (confirm(`Tem certeza que deseja excluir o funcion√°rio ${email}?`)) {
                window.utils?.mostrarMensagem(`üóëÔ∏è Funcion√°rio ${email} exclu√≠do (simula√ß√£o)`, 'info');
            }
        };
    </script>
</body>
</html>
