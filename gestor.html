<!-- Substitua todo o script que est√° no in√≠cio do gestor.html por este: -->
<script>
    // Verificar autentica√ß√£o antes de carregar a p√°gina
    document.addEventListener('DOMContentLoaded', function() {
        // Carregar usu√°rio do localStorage
        const usuario = JSON.parse(localStorage.getItem('ponto_user') || 'null');
        
        if (!usuario) {
            alert('‚ö†Ô∏è Fa√ßa login para acessar esta √°rea!');
            window.location.href = 'index.html?v=' + Date.now();
            return;
        }
        
        if (usuario.tipo !== 'gestor') {
            alert('‚ùå Acesso restrito! Apenas gestores podem acessar esta √°rea.');
            window.location.href = 'index.html?v=' + Date.now();
            return;
        }
        
        // Se chegou aqui, √© gestor v√°lido
        console.log(`üëë Gestor logado: ${usuario.nome}`);
        
        // Remover a verifica√ß√£o antiga do localStorage
        localStorage.removeItem('gestor_logged_in');
    });
</script>
